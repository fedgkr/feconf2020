import React from 'react';
import Scene from "scenejs";
import css from "./MainLogo.module.scss";

interface MainLogoProps { }

const MainLogo: React.FC<MainLogoProps> = () => {
  React.useEffect(() => {
    const colors = [
      [62, 35, 255],
      [60, 255, 60],
      [255, 35, 98],
      [45, 175, 230],
      [255, 0, 255],
      [255, 128, 0],
    ];

    const scene = new Scene({
      "stop": i => {
        const times = {};

        colors.forEach((rgb, j) => {
          times[j * 2] = {
            "stop-color": `rgb(${colors[(j + i) % 6]})`,
          };
        }, {});

        return {
          ...times,
          options: {
            direction: "alternate",
            iterationCount: "infinite",
          }
        }
      },
      [`.${css.circle}`]: i => {
        const times = {};

        colors.forEach((rgb, j) => {
          times[j * 2] = {
            "fill": `rgb(${colors[(j + 2) % 6]})`,
          };
        }, {});

        return {
          ...times,
          options: {
            direction: "alternate",
            iterationCount: "infinite",
          }
        }
      },
      [`.${css.circle}`]: i => {
        return {
          0: {
            transform: `rotate(0deg)`,
          },
          [7 - i * 2]: {
            transform: `rotate(360deg)`,
          },
          options: {
            iterationCount: "infinite",
          }
        }
      },
    }, {
      selector: true,
    }).playCSS();

    return () => {
      scene.clear();
    };
  });
  return (
    <svg className={css.MainLogo} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 340 306">
      <defs>
        <linearGradient id="logo-gradient" x1="50%" y1="0%" x2="50%" y2="100%">
          <stop id="first1" offset="0%" style={{ stopColor: "rgb(255,255,255)", stopOpacity: 0.3 }} />
          <stop id="last1" offset="100%" style={{ stopColor: "rgb(255,128,0)", stopOpacity: 1 }} />
        </linearGradient>
        <mask id="logo-mask" x="0" y="0" width="100" height="100">
          <path fill="#FFF" d="M104.704 212.837c23.168 0 36.48 18.94 36.48 46.581 0 27.642-13.312 46.582-36.48 46.582s-36.48-18.94-36.48-46.582 13.312-46.581 36.48-46.581zm143.744 0c23.168 0 36.48 18.94 36.48 46.581 0 27.642-13.312 46.582-36.48 46.582s-36.48-18.94-36.48-46.582 13.312-46.581 36.48-46.581zm-218.24 0c16 0 30.336 10.493 30.336 28.537 0 10.75-5.76 19.964-13.952 28.154l-14.848 14.973h30.08v19.707H.896v-14.844l30.08-31.225c5.248-5.375 9.088-10.622 9.088-15.869 0-5.63-3.584-9.47-9.6-9.47-6.272 0-10.752 4.095-13.184 9.726L0 232.416c5.76-13.309 17.792-19.58 30.208-19.58zm143.744 0c16 0 30.336 10.493 30.336 28.537 0 10.75-5.76 19.964-13.952 28.154l-14.848 14.973h30.08v19.707H144.64v-14.844l30.08-31.225c5.248-5.375 9.088-10.622 9.088-15.869 0-5.63-3.584-9.47-9.6-9.47-6.272 0-10.752 4.095-13.184 9.726l-17.28-10.11c5.76-13.309 17.792-19.58 30.208-19.58zM104.704 232.8c-10.752 0-16 9.342-16 26.618 0 17.276 5.248 26.618 16 26.618 10.752 0 16-9.342 16-26.618 0-17.276-5.248-26.618-16-26.618zm143.744 0c-10.752 0-16 9.342-16 26.618 0 17.276 5.248 26.618 16 26.618 10.752 0 16-9.342 16-26.618 0-17.276-5.248-26.618-16-26.618zM129.665 103.953c6.974 0 13.426 1.104 19.354 3.254 5.986 2.208 11.1 5.288 15.402 9.297 4.3 4.01 7.671 8.89 10.112 14.643s3.662 12.202 3.662 19.291c0 7.031-1.22 13.481-3.662 19.292-2.44 5.81-5.812 10.808-10.112 14.933-4.36 4.126-9.474 7.322-15.402 9.588-5.987 2.266-12.38 3.37-19.354 3.37-6.974 0-13.368-1.104-19.296-3.37-5.928-2.266-11.043-5.462-15.343-9.588-4.301-4.125-7.672-9.122-10.113-14.933-2.441-5.81-3.662-12.26-3.662-19.292 0-7.147 1.22-13.538 3.662-19.291 2.44-5.753 5.812-10.634 10.113-14.643 4.359-4.01 9.415-7.089 15.343-9.297 5.928-2.15 12.322-3.254 19.296-3.254zm-80.96 0c6.276 0 12.495 1.104 18.54 3.312 6.102 2.208 10.984 5.462 14.762 9.704l-14.588 14.585c-1.976-2.79-4.65-4.823-7.904-6.16-3.255-1.336-6.626-2.033-10.055-2.033-3.778 0-7.207.755-10.345 2.092-3.139 1.336-5.812 3.254-8.08 5.694-2.266 2.44-4.01 5.288-5.288 8.6-1.22 3.312-1.86 6.915-1.86 10.866 0 4.01.581 7.67 1.86 11.04 1.279 3.37 3.022 6.218 5.23 8.6 2.21 2.382 4.883 4.242 7.963 5.578 3.08 1.337 6.51 2.034 10.171 2.034 4.243 0 7.963-.814 11.16-2.499 3.196-1.685 5.753-3.835 7.613-6.566l14.937 14.062c-3.953 4.532-8.835 8.135-14.589 10.75-5.753 2.615-12.379 3.951-19.935 3.951-6.858 0-13.193-1.104-19.005-3.37-5.812-2.266-10.868-5.462-15.11-9.588-4.302-4.125-7.614-9.122-10.056-14.875-2.44-5.753-3.661-12.086-3.661-19.06 0-7.146 1.279-13.596 3.72-19.349 2.44-5.81 5.87-10.691 10.229-14.759 4.359-4.067 9.473-7.147 15.343-9.355 5.87-2.15 12.147-3.254 18.947-3.254zm163.083 2.382l35.686 57.991h.348l-.465-57.99h20.807v88.845h-24.352l-35.802-58.107h-.348l.523 58.107H187.32v-88.846h24.468zm128.212 0v18.304h-37.313v18.362h34.407v17.664h-34.407v34.516h-21.213v-88.846H340zm-210.277 16.91c-3.778 0-7.207.697-10.287 2.091-3.08 1.395-5.754 3.254-8.02 5.637-2.267 2.382-4.01 5.23-5.231 8.6-1.22 3.37-1.802 6.972-1.802 10.807 0 4.01.581 7.729 1.86 11.099 1.278 3.37 3.022 6.275 5.23 8.716 2.21 2.382 4.883 4.3 7.963 5.694 3.08 1.395 6.51 2.092 10.287 2.092 3.778 0 7.207-.697 10.287-2.092 3.08-1.336 5.754-3.254 8.02-5.694 2.267-2.44 4.011-5.346 5.29-8.716 1.22-3.37 1.86-7.09 1.86-11.099 0-3.835-.582-7.437-1.86-10.807-1.279-3.37-3.023-6.218-5.231-8.6-2.209-2.383-4.882-4.242-8.02-5.637-3.14-1.394-6.568-2.091-10.346-2.091zM58.991 0v18.304H21.68v18.361h51.087V0h59.805v18.071H93.515v18.594h37.545V54.33H93.515v16.212h41.264v18.303H72.766V54.33H21.679v34.515H.465V0h58.526z" />
        </mask>
      </defs>
      <g mask="url(#logo-mask)"  >
        <rect x="0" y="0" width="340" height="306" fill="#999"></rect>
        <rect className={css.circle} x="-150" y="150" width="640" height="640" rx="280"></rect>
        <rect className={`${css.circle} ${css.circle2}`} x="-150" y="150" width="640" height="640" rx="280"></rect>
        <rect className={`${css.circle} ${css.circle3}`} x="-150" y="150" width="640" height="640" rx="280"></rect>
        <rect x="0" y="0" width="340" height="306" fill="url(#logo-gradient)"></rect>
      </g>

    </svg >
  );
}

export default MainLogo;
